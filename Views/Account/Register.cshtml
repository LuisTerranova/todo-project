@model Todo.ViewModels.Accounts.RegisterViewModel  
  
@{  
    ViewData["Title"] = "Register";  
}  

@if (TempData["Error"] != null)
{
    <div class="alert alert-danger">
        @TempData["Error"]
    </div>
}

<div class="row justify-content-center">  
    <div class="col-md-6">  
        <div class="card shadow-sm">  
            <div class="card-body">  
                <h2 class="card-title text-center mb-4">Create Account</h2>  
  
                <form asp-controller="Account" asp-action="Register" method="post">  
                    <div asp-validation-summary="ModelOnly" class="text-danger mb-3"></div>  
  
                    <div class="mb-3">  
                        <label asp-for="Name" class="form-label">Username</label>  
                        <input asp-for="Name" class="form-control" autocomplete="username" />  
                        <span asp-validation-for="Name" class="text-danger"></span>  
                    </div>  
  
                    <div class="mb-3">  
                        <label asp-for="Email" class="form-label">Email</label>  
                        <input asp-for="Email" class="form-control" autocomplete="email" />  
                        <span asp-validation-for="Email" class="text-danger"></span>  
                    </div>  
  
                    <div class="mb-3">  
                        <label asp-for="Password" class="form-label">Password</label>  
                        <div class="input-group">  
                            <input asp-for="Password" class="form-control" autocomplete="new-password" />  
                            <button class="btn btn-outline-secondary" type="button" onclick="togglePassword()">  
                                <i class="bi bi-eye"></i>  
                            </button>  
                        </div>  
                        <span asp-validation-for="Password" class="text-danger"></span>  
                        <div class="form-text">Password must be between 8 and 25 characters long.</div>  
                    </div>  
  
                    <div class="d-grid gap-2 mb-3">  
                        <button type="submit" class="btn btn-primary">Register</button>  
                    </div>  
  
                    <div class="text-center">  
                        <p>  
                            Already have an account? <a asp-controller="Account" asp-action="Login">Login</a>  
                        </p>  
                    </div>  
                </form>  
            </div>  
        </div>  
    </div>  
</div>  
  
@section Scripts {  
    <partial name="_ValidationScriptsPartial" />  
      
    <script>  
        function togglePassword() {  
            const passwordInput = document.getElementById("Password");  
            const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';  
            passwordInput.setAttribute('type', type);  
              
            const icon = event.currentTarget.querySelector('i');  
            icon.classList.toggle('bi-eye');  
            icon.classList.toggle('bi-eye-slash');  
        }  
    </script>  
}